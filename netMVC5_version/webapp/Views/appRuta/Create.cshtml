@model SmartAdminMvc.ViewModels.Input.appRutaInput

<div class="row">
    <div class="col-md-5">
        @using (Html.BeginForm())
                {
                    using (Html.Awe().BeginContext())
                    {
            @Html.HiddenFor(o => o.Id)
            @Html.EditorFor(o => o.nombre)
            @Html.EditorFor(o => o.descrip)
            @Html.EditorFor(o => o.dias)
            @Html.EditorFor(o => o.activa)
            @Html.EditorFor(o => o.currBus_Id)
            @Html.EditorFor(o => o.currChofer_Id)
            @Html.EditorFor(o => o.lastBoard)
            @Html.HiddenFor(o => o.currLat)
            @Html.HiddenFor(o => o.currLon)
                    }
                }
    </div>
    <div class="col-md-7">
        <!-- NEW WIDGET START -->
        <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <!-- Widget ID (each widget will need unique ID)-->
            <div class="jarviswidget jarviswidget-color-white" id="wid-id-0" data-widget-editbutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false">
                <!-- widget options:
                usage: <div class="jarviswidget" id="wid-id-0" data-widget-editbutton="false">

                data-widget-colorbutton="false"
                data-widget-editbutton="false"
                data-widget-togglebutton="false"
                data-widget-deletebutton="false"
                data-widget-fullscreenbutton="false"
                data-widget-custombutton="false"
                data-widget-collapsed="true"
                data-widget-sortable="false"

                -->
                <header>
                    <span class="widget-icon"> <i class="fa fa-map-marker"></i> </span>
                    <h2>Data Attribute Driven</h2>
                </header>
                <!-- widget div-->
                <div>
                    <!-- widget edit box -->
                    <div class="jarviswidget-editbox">
                        <!-- This area used as dropdown edit box -->
                    </div>
                    <!-- end widget edit box -->
                    <!-- widget content -->
                    <div class="widget-body no-padding">
                        <div id="map_canvas" class="google_maps" data-gmap-lat="@Model.currLat" data-gmap-lng="@Model.currLon" data-gmap-zoom="5" data-gmap-src="xml/gmap/pins.xml">
                            &nbsp;
                        </div>
                    </div>
                    <!-- end widget content -->
                </div>
                <!-- end widget div -->
            </div>
            <!-- end widget -->
        </article>
        <!-- WIDGET END -->
    </div>

</div>

<script type="text/javascript">

    // DO NOT REMOVE : GLOBAL FUNCTIONS!

    $(document).ready(function () {

        var pagefunction = function () {

            /*jslint smarttabs:true */
            var colorful_style = [{

                "featureType": "landscape",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "transit",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#d3d3d3"
                }, {
                    "visibility": "on"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.stroke",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "landscape",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#b1bc39"
                }]
            }, {
                "featureType": "landscape.man_made",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#ebad02"
                }]
            }, {
                "featureType": "water",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#416d9f"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#000000"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.text.stroke",
                "stylers": [{
                    "visibility": "off"
                }, {
                    "color": "#ffffff"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#000000"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#ffffff"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.icon",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "water",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#ebad02"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#8ca83c"
                }]
            }];

            // Grey Scale
            var greyscale_style = [{
                "featureType": "road.highway",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "landscape",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "transit",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi.park",
                "stylers": [{
                    "visibility": "on"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#d3d3d3"
                }, {
                    "visibility": "on"
                }]
            }, {
                "featureType": "poi.medical",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi.medical",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.stroke",
                "stylers": [{
                    "color": "#cccccc"
                }]
            }, {
                "featureType": "water",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#cecece"
                }]
            }, {
                "featureType": "road.local",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#808080"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#808080"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#fdfdfd"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.icon",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "water",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#d2d2d2"
                }]
            }];

            // Black & White
            var monochrome_style = [{
                "featureType": "road.highway",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "landscape",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "transit",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#d3d3d3"
                }, {
                    "visibility": "on"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.stroke",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "landscape",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#ffffff"
                }]
            }, {
                "featureType": "water",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#cecece"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#000000"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.text.stroke",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#ffffff"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#000000"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#000000"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.icon",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "water",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "off"
                }]
            }];

            // Retro
            var metro_style = [{
                "featureType": "transit",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#d3d3d3"
                }, {
                    "visibility": "on"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.stroke",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "landscape",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#eee8ce"
                }]
            }, {
                "featureType": "water",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#b8cec9"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#000000"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.text.stroke",
                "stylers": [{
                    "visibility": "off"
                }, {
                    "color": "#ffffff"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#000000"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#ffffff"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.stroke",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.icon",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "water",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#d3cdab"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#ced09d"
                }]
            }, {
                "featureType": "poi",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }];

            // Night
            var nightvision_style = [{
                "featureType": "landscape",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "transit",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#d3d3d3"
                }, {
                    "visibility": "on"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.stroke",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "landscape",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "hue": "#0008ff"
                }, {
                    "lightness": -75
                }, {
                    "saturation": 10
                }]
            }, {
                "elementType": "geometry.stroke",
                "stylers": [{
                    "color": "#1f1d45"
                }]
            }, {
                "featureType": "landscape.natural",
                "stylers": [{
                    "color": "#1f1d45"
                }]
            }, {
                "featureType": "water",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#01001f"
                }]
            }, {
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#e7e8ec"
                }]
            }, {
                "elementType": "labels.text.stroke",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#151348"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#f7fdd9"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "labels.text.stroke",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#01001f"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#316694"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.icon",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "water",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#1a153d"
                }]

            }];

            // Night Light
            var nightvision_highlight_style = [{
                "elementType": "geometry",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "hue": "#232a57"
                }]
            }, {
                "featureType": "road.highway",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "landscape",
                "elementType": "geometry.fill",
                "stylers": [{
                    "hue": "#0033ff"
                }, {
                    "saturation": 13
                }, {
                    "lightness": -77
                }]
            }, {
                "featureType": "landscape",
                "elementType": "geometry.stroke",
                "stylers": [{
                    "color": "#4657ab"
                }]
            }, {
                "featureType": "transit",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.stroke",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "water",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#0d0a1f"
                }]
            }, {
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#d2cfe3"
                }]
            }, {
                "elementType": "labels.text.stroke",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#0d0a1f"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#ffffff"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "labels.text.stroke",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#0d0a1f"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#ff9910"
                }]
            }, {
                "featureType": "road.local",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#4657ab"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.icon",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "water",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#232a57"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#232a57"
                }]
            }, {
                "featureType": "poi",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }];

            // Papiro
            var old_paper_style = [{
                "elementType": "geometry",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#f2e48c"
                }]
            }, {
                "featureType": "road.highway",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "transit",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi.park",
                "elementType": "geometry.fill",
                "stylers": [{
                    "color": "#d3d3d3"
                }, {
                    "visibility": "on"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.stroke",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "landscape",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#f2e48c"
                }]
            }, {
                "featureType": "landscape",
                "elementType": "geometry.stroke",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#592c00"
                }]
            }, {
                "featureType": "water",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#a77637"
                }]
            }, {
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#592c00"
                }]
            }, {
                "elementType": "labels.text.stroke",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#f2e48c"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "labels.text.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#592c00"
                }]
            }, {
                "featureType": "administrative",
                "elementType": "labels.text.stroke",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#f2e48c"
                }]
            }, {
                "featureType": "road",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#a5630f"
                }]
            }, {
                "featureType": "road.highway",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "on"
                }, {
                    "color": "#592c00"
                }]
            }, {
                "featureType": "road",
                "elementType": "labels.icon",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "water",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi",
                "elementType": "geometry.fill",
                "stylers": [{
                    "visibility": "off"
                }]
            }, {
                "featureType": "poi",
                "elementType": "labels",
                "stylers": [{
                    "visibility": "off"
                }]
            }];

            // One color - Change the hue value for your desired color
            var mono_color_style = [{
                "stylers": [{
                    "hue": "#ff00aa"
                }, {
                    "saturation": 1
                }, {
                    "lightness": 1
                }]
            }];

            /*
             * Google Maps Initialize
             */

            $this = $("#map_canvas");
            $zoom_level = ($this.data("gmap-zoom") || 5);
            $data_lat = ($this.data("gmap-lat") || 29.895883);
            $data_lng = ($this.data("gmap-lng") || -80.650635);
            $xml_src = ($this.data("gmap-src") || "xml/gmap/pins.xml");

            var greyStyleMap = new google.maps.StyledMapType(greyscale_style, {
                name: "Greyscale"
            }),
            monoChromeStyleMap = new google.maps.StyledMapType(monochrome_style, {
                name: "Mono Chrome"
            }),
            metroStyleMap = new google.maps.StyledMapType(metro_style, {
                name: "Metro"
            }),
            nightvisionStyleMap = new google.maps.StyledMapType(nightvision_style, {
                name: "Nightvision"
            }),
            nvisionhstyleMap = new google.maps.StyledMapType(nightvision_highlight_style, {
                name: "Nightvision Light"
            }),
            oPaperStyleMap = new google.maps.StyledMapType(old_paper_style, {
                name: "Old Paper"
            }),
            colorfulStyleMap = new google.maps.StyledMapType(colorful_style, {
                name: "Colorful"
            }),
            monoColorStyleMap = new google.maps.StyledMapType(mono_color_style, {
                name: "One Color"
            });

            //http://gmaps-samples-v3.googlecode.com/svn/trunk/draggable-markers/draggable-markers.html

            function loadAttribute() {

                var centerLatLng = new google.maps.LatLng($data_lat, $data_lng),
                mapOptions = {
                    zoom: $zoom_level,
                    center: centerLatLng,
                    //disableDefaultUI: true,
                    //mapTypeId : google.maps.MapTypeId.ROADMAP
                    mapTypeControlOptions: {
                        mapTypeIds: [google.maps.MapTypeId.TERRAIN, 'colorful_style', 'greyscale_style',
                            'monochrome_style', 'metro_style', 'nightvision_style', 'nightvision_highlight_style',
                            'old_paper_style', 'mono_color_style'
                        ]
                    },
                },

                bounds = new google.maps.LatLngBounds(),
                infowindow = new google.maps.InfoWindow(),
                map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
                marker = new google.maps.Marker({
                    position: centerLatLng,
                    title: 'Point A',
                    map: map,
                    draggable: true
                });

                map.mapTypes.set('colorful_style', colorfulStyleMap);
                map.mapTypes.set('greyscale_style', greyStyleMap);
                map.mapTypes.set('monochrome_style', monoChromeStyleMap);
                map.mapTypes.set('metro_style', metroStyleMap);
                map.mapTypes.set('nightvision_style', nightvisionStyleMap);
                map.mapTypes.set('nightvision_highlight_style', nvisionhstyleMap);
                map.mapTypes.set('old_paper_style', oPaperStyleMap);
                map.mapTypes.set('mono_color_style', monoColorStyleMap);

                map.setMapTypeId('metro_style');

                google.maps.event.addListener(marker, 'dragend', function () {

                    var myLatLng = marker.getPosition();
                    var lat = myLatLng.lat();
                    var lng = myLatLng.lng();

                    $("#currLat").val(lat);
                    $("#currLon").val(lng);

                    //alert('lat: ' + $("#lat").val() + ', lon: ' + $("#lon").val());

                });

            } // end loadAttribute

            loadAttribute();
        };

        $(window).unbind('gMapsLoaded');
        $(window).bind('gMapsLoaded', pagefunction);
        window.loadGoogleMaps();
    })

    $('.modal-dialog').css('width', '1000px');
    $('.google_maps').css('height', '385px');
    //$('.google_maps').css('width', '100%');
    $('.modal-body').css('padding', '20px 20px 0');

</script>
